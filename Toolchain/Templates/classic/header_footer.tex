% ========== header_footer.tex â€” Classic Design ==========
\usepackage{fancyhdr}
\usepackage{graphicx}
% Utility: check if a macro expands to empty
\makeatletter
\providecommand{\bldIfNonempty}[3]{\edef\@tempa{#1}\ifx\@tempa\empty #2\else #3\fi}
\makeatother

\setlength{\headheight}{16pt}

\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0.3pt}
\renewcommand{\footrulewidth}{0.3pt}

% Header: logo a sinistra, titolo a destra
\fancyhead[L]{%
  \ifdefined\BLDLogo
    \bldIfNonempty{\BLDLogo}{}{\includegraphics[height=24pt]{\BLDLogo}}%
  \fi
}
\fancyhead[R]{%
  \ifdefined\BLDTitle
    \textsf{\tiny \BLDTitle}%
  \fi
}

% Footer: versione a sinistra, pagina al centro, updated a destra
\fancyfoot[L]{%
  \ifdefined\BLDVersion
    \textsf{\tiny v\BLDVersion}%
  \fi
}
\fancyfoot[C]{\thepage}
\fancyfoot[R]{%
  \ifdefined\BLDUpdated
    \textsf{\tiny Updated: \BLDUpdated}%
  \fi
}

% Stile "plain" (usato per ToC ecc.) con gli stessi footer
\fancypagestyle{plain}{%
  \fancyhf{}
  \renewcommand{\headrulewidth}{0pt}
  \renewcommand{\footrulewidth}{0.4pt}
  \fancyfoot[L]{%
    \ifdefined\BLDVersion
      \textsf{\tiny v\BLDVersion}%
    \fi
  }
  \fancyfoot[C]{\thepage}
  \fancyfoot[R]{%
    \ifdefined\BLDUpdated
      \textsf{\tiny Updated: \BLDUpdated}%
    \fi
  }
}
% ========== END header_footer.tex ==========
